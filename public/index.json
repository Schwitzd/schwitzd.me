[{"content":"High-Level Architecture Architecture component list Deploying infrastructure Since I discovered Terraform (yes, I know IBM bought HashiCorp and now the purists are running away) I have become a big fan of Infrastructure as Code. So I decided to deploy all my Azure resources as code, here is the repository I use for that.\n","permalink":"http://localhost:1313/architecture/","summary":"High-Level Architecture Architecture component list Deploying infrastructure Since I discovered Terraform (yes, I know IBM bought HashiCorp and now the purists are running away) I have become a big fan of Infrastructure as Code. So I decided to deploy all my Azure resources as code, here is the repository I use for that.","title":"Architecture"},{"content":"While creating this blog, I thought why not write my first post documenting the steps I took to make it all happen? Maybe this could help other people who have decided to take the same journey as me, so let\u0026rsquo;s get started!\nPast experiences Actually this is my second blog, for several years I maintained a website called TuxLinux where I wrote about my first experiences in the Linux world, all using WordPress. But this time I was more determined to try something new (at least for me), so I started searching the internet for something like this:\nLightweight compared to classic CMS Something totally nerdy BaC (Blog as Code, I coined a new term?!) to host on my Github After some research I came across Hugo and it was love at first sight.\nArchitecture Being an infrastructure guy can only mean having a dedicated page about the architecture of my site with the explanations of my choices.\nInstalling \u0026amp; Preparing Hugo To create a Hugo website, you need to install the Hugo package based on your operating system. Personally, I don\u0026rsquo;t like to install too much softwares on my computer and it\u0026rsquo;s always a good excuse to use containers.. so I created a Docker image for this purpose:\n# clone the repository git clone https://github.com/Schwitzd/docker-hugo.git # build the image cd docker-hugo docker build -t docker-hugo . # Run the container in development mode docker run --rm -it \\ -p 1313:1313 \\ -u \u0026#34;$(id -u):$(id -g)\u0026#34; \\ -v /host/site:/site docker-hugo \\ server --bind 0.0.0.0 -D I quickly realised that I was in a chicken-egg situation.. to spawn a Hugo development server, I need an existing Hugo website, but I can create an Hugo website without the Hugo CLI?! so I decided to write a small bash script that would check if a website already exists on the mounted volume, and if not, launch a wizard to create one.\nThe first time you start the container in an empty folder, you will see:\nChecking for Hugo website in the current directory... No Hugo website found in the current directory. Do you want to create a new Hugo website here? (y/n): y Enter the name for your new Hugo website: MyWebsite Choose the configuration format (TOML/YAML/JSON): YAML Congratulations! Your new Hugo site was created in /site/MyWebsite. Hugo gives you the choice to have the configuration file in three formats: YAML, TOML or JSON. My choice is dictated only by a cosmetic reason\u0026hellip; TOML reminds me of the good old INI format, heavily used in the early years of Windows but still in use by creapy software. I love JSON but in different contexts, so the winner is YAML!\nGetting Started Once the website was created, the nightmare began\u0026hellip; choosing a theme! Hugo provides an official site themes.gohugo.io where you can choose whatever you like, my chooise fall on PaperMod.\nOnce you have followed the installation instructions for your theme and done a basic configuration of the hugo.yaml file, you will be able to view your website by visiting http://localhost:1313 in a browser.\nhugo.yaml This file is used to configure and personalise your site. This is my hugo.yaml, each line is explained in the Hugo configuration docs.\nSyntax Highlighting Hugo uses Chroma for syntax highlighting, but PaperMod theme allows to use Highlight.js. I will stay with Chroma, this is the change I did on the config:\nparams: assets: disableHLJS: true markup: highlight: codeFences: true guessSyntax: false lineNos: false noClasses: true style: monokai My favourite style theme is Monokay but here you can see the full list of available themes.\nPages structure I have decided to put my posts in the ./content/posts folder and my pages in the ./content folder, so I need to run the following commands depending on what I want to create:\n# New post hugo new posts/my-page.md # New article hugo new my-page.md In the hugo.yaml add:\npermalinks: posts: /posts/:title Search Configuring the search functionality is straightforward, follow the official documentation. These are the Fuse.js settings i have configured:\nparams: fuseOpts: ignoreLocation: true keys: [\u0026#34;title\u0026#34;, \u0026#34;permalink\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;content\u0026#34;] Customizations All these customisations are strictly related to the PaperMod theme.\nSocial icons in footer I added the social icons on every page (yes, because I want to be an influencer!) except on the homepage because it is already there by default for the profile mode. Ok yes I did it dorty.. instead of using the partial templates I modified the theme directly (will be improved in the future, I promised the 04.05.2024). Edit the file theme/PaperMod/layouts/partials/footer.html as follows.\n{{- if not (.Param \u0026#34;hideFooter\u0026#34;) }} \u0026lt;footer class=\u0026#34;footer\u0026#34;\u0026gt; {{ if not .IsHome }} {{ partial \u0026#34;social_icons.html\u0026#34; .Params.socialIcons }} {{ end }} [...] CSS To add your own custom CSS, create the following folder structure:\nmkdir assets/css/extended touch assets/css/extended/custom.css What I customised:\nThe links change colour on hover. Social icons animate and change colour on hover Removed the ugly underline for social icons in the footer ","permalink":"http://localhost:1313/posts/how-i-set-up-this-site/","summary":"While creating this blog, I thought why not write my first post documenting the steps I took to make it all happen? Maybe this could help other people who have decided to take the same journey as me, so let\u0026rsquo;s get started!\nPast experiences Actually this is my second blog, for several years I maintained a website called TuxLinux where I wrote about my first experiences in the Linux world, all using WordPress.","title":"How I Set Up This Site"},{"content":"","permalink":"http://localhost:1313/whoami/","summary":"","title":"Whoami"}]